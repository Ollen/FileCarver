<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>File Carver</title>

        <link rel="stylesheet" href="static/css/materialize.min.css">

        <link rel="stylesheet" href="static/css/config.css">
    </head>

    <body>
        <div class="wrapper">
            <div class="container">
                <!-- Select a Drive -->
                <ul class="collection with-header card-panel">
                    <li class="collection-header">
                        <h4>Select a Drive:</h4>
                    </li>
                    <a id="driveA" class="collection-item">Drive A://</a>
                    <a id="driveB" class="collection-item">Drive B://</a>
                    <a id="driveC" class="collection-item">Drive C://</a>
                    <a id="driveD" class="collection-item">Drive D://</a>
                    <a id="driveE" class="collection-item">Drive E://</a>
                </ul>
                <!-- Selected Drive -->
                <blockquote>
                    <p>Selected Drive: <span class="selectedDrive"></span></p>
                </blockquote>

                <div class="row">
                    <!-- Select Files to retrieve -->
                    <div class="col m6 s12">
                        <ul class="collection with-header card-panel file-panel ulrow">
                            <li class="collection-header">
                                <h4 class="truncate">Files to Retrieve:</h4>
                            </li>
                            <li>
                                <div class="check">
                                    <input type="checkbox" class="filled-in" id="png" />
                                    <label for="png">PNG</label>
                                </div>
                                <div class="check">
                                    <input type="checkbox" class="filled-in" id="jpg" />
                                    <label for="jpg">JPG</label>
                                </div>
                                <div class="check">
                                    <input type="checkbox" class="filled-in" id="doc" />
                                    <label for="doc">DOC</label>
                                </div>
                                <div class="check">
                                    <input type="checkbox" class="filled-in" id="xls" />
                                    <label for="xls">XLS</label>
                                </div>
                            </li>
                        </ul>

                    </div>
                    <!--  Recoverd file prefix-->
                    <div class="col m6 s12">
                        <ul class="collection with-header card-panel prefix-panel ulrow">
                            <li class="collection-header">
                                <h4 class="truncate">Recovered file prefix: </h4>
                            </li>
                            <li>
                                <div class="input-field">
                                    <input id="prefix" type="text" class="validate">
                                    <label for="prefix">Prefix</label>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Recover(Submit) Button -->
                <div class="button-panel center-align">
                    <button class="btn btn-large waves-light waves-effect right-align" id="submit">Recover</button>
                </div>


                <div class="button-panel center-align">
                    <button class="btn btn-large waves-light waves-effect right-align" id="open-file-manager">
                      Choose Extraction Folder
                    </button>
                </div>

                <div class="input-field">
                    <input id="extractFolder" type="file" class="" webkitdirectory>
                </div>

            </div>
        </div>
    </body>

    <!-- Insert this line above script imports  -->
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
    <!-- normal script imports etc  -->
    <script src="static/js/jquery.min.js"></script>
    <script src="static/js/materialize.min.js"></script>
    <script src="static/js/jquery.matchHeight-min.js"></script>
    <!-- Insert this line after script imports -->
    <script>if (window.module) module = window.module;</script>
    <script>
        $(document).ready(function() {
            $('.collection-item').click(function(event) {
                $('.collection-item').removeClass('active');
                $(this).addClass('active');
                $('.selectedDrive').text($(this).text());
            });

            $('.ulrow').matchHeight();

        });
    </script>

    <script>
        const shell = require('electron').shell

        const os = require('os')

        const fileManagerBtn = document.getElementById('open-file-manager')

        fileManagerBtn.addEventListener('click', function(event) {
            shell.showItemInFolder(os.homedir())
        })

        $('#open-file-manager').click(function(event) {
            var aa = document.getElementById('extractFolder').files[0].path
            console.log(aa);
        });


    </script>


</html>
